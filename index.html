<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>我的AI助手</title>
  <meta name="theme-color" content="#108775" />
  <meta name="description" content="聚合通义千问、豆包、Kimi等AI模型的聊天入口" />
  
  <!-- ✅ PWA 支持：引用真实 manifest.json 文件 -->
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="icon-192.png">
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }

    header {
      text-align: center;
      padding: 20px 0;
      background: #108775;
      color: white;
      border-radius: 12px;
      margin-bottom: 20px;
      box-shadow: 0 4px 12px rgba(16, 135, 117, 0.2);
    }

    h1 {
      font-size: 24px;
    }

    .ai-list {
      list-style: none;
    }

    .ai-item {
      display: flex;
      align-items: center;
      background: white;
      padding: 16px;
      border-radius: 12px;
      margin-bottom: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: transform 0.2s ease-in-out;
    }

    .ai-item:active {
      transform: scale(0.98);
      background: #e0f7fa; /* 更醒目的颜色 */
    }

    .avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      margin-right: 16px;
      object-fit: cover;
      background: #e0f7fa;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: #108775;
    }

    .info {
      flex: 1;
    }

    .name {
      font-weight: 600;
      font-size: 16px;
    }

    .desc {
      font-size: 13px;
      color: #888;
    }

    .arrow {
      color: #ccc;
      font-size: 18px;
    }

    footer {
      text-align: center;
      margin-top: 30px;
      color: #999;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>💬 我的AI助手</h1>
      <p>一键直达所有大模型</p>
    </header>

    <ul class="ai-list">
      <!-- ✅ 通义千问 -->
      <li class="ai-item" 
          onclick="openChat('https://www.tongyi.com', '通义千问')" 
          tabindex="0" 
          aria-label="通义千问">
        <div class="avatar">通</div>
        <div class="info">
          <div class="name">通义千问</div>
          <div class="desc">阿里出品，支持多轮对话</div>
        </div>
        <div class="arrow">›</div>
      </li>

      <!-- ✅ 豆包 -->
      <li class="ai-item" 
          onclick="openChat('https://www.doubao.com', '豆包')" 
          tabindex="0" 
          aria-label="豆包">
        <div class="avatar">豆</div>
        <div class="info">
          <div class="name">豆包</div>
          <div class="desc">字节跳动出品，知识丰富</div>
        </div>
        <div class="arrow">›</div>
      </li>

      <!-- ✅ Kimi -->
      <li class="ai-item" 
          onclick="openChat('https://kimi.moonshot.cn', 'Kimi')" 
          tabindex="0" 
          aria-label="Kimi">
        <div class="avatar">K</div>
        <div class="info">
          <div class="name">Kimi</div>
          <div class="desc">长文本处理专家，支持128K上下文</div>
        </div>
        <div class="arrow">›</div>
      </li>

      <!-- ✅ 智谱AI -->
      <li class="ai-item" 
          onclick="openChat('https://chatglm.cn', '智谱AI')" 
          tabindex="0" 
          aria-label="智谱AI">
        <div class="avatar">Z</div>
        <div class="info">
          <div class="name">智谱AI</div>
          <div class="desc">GLM大模型，学术与推理强</div>
        </div>
        <div class="arrow">›</div>
      </li>

      <!-- ✅ 文心一言 -->
      <li class="ai-item" 
          onclick="openChat('https://yiyan.baidu.com', '文心一言')" 
          tabindex="0" 
          aria-label="文心一言">
        <div class="avatar">文</div>
        <div class="info">
          <div class="name">文心一言</div>
          <div class="desc">百度大模型，中文理解强</div>
        </div>
        <div class="arrow">›</div>
      </li>

      <!-- ✅ Gemini -->
      <li class="ai-item" 
          onclick="openChat('https://gemini.google.com', 'Gemini')" 
          tabindex="0" 
          aria-label="Gemini">
        <div class="avatar">G</div>
        <div class="info">
          <div class="name">Gemini</div>
          <div class="desc">Google大模型（需网络支持）</div>
        </div>
        <div class="arrow">›</div>
      </li>

      <!-- ✅ ChatGPT -->
      <li class="ai-item" 
          onclick="openChat('https://chat.openai.com', 'ChatGPT')" 
          tabindex="0" 
          aria-label="ChatGPT">
        <div class="avatar">C</div>
        <div class="info">
          <div class="name">ChatGPT</div>
          <div class="desc">OpenAI经典模型（需网络支持）</div>
        </div>
        <div class="arrow">›</div>
      </li>

      <!-- ✅ Claude -->
      <li class="ai-item" 
          onclick="openChat('https://claude.ai', 'Claude')" 
          tabindex="0" 
          aria-label="Claude">
        <div class="avatar">C</div>
        <div class="info">
          <div class="name">Claude</div>
          <div class="desc">Anthropic出品，逻辑推理强</div>
        </div>
        <div class="arrow">›</div>
      </li>

      <!-- ✅ PaLM -->
      <li class="ai-item" 
          onclick="openChat('https://makersuite.google.com', 'PaLM')" 
          tabindex="0" 
          aria-label="PaLM">
        <div class="avatar">P</div>
        <div class="info">
          <div class="name">PaLM</div>
          <div class="desc">Google旧版大模型（需登录）</div>
        </div>
        <div class="arrow">›</div>
      </li>

      <!-- ✅ 其他模型（可自行扩展） -->
    </ul>

    <footer>
      &copy; 2025 我的AI聚合中心 | 自主可控，免API
    </footer>
  </div>

  <script>
    function openChat(url, name) {
      // ✅ localStorage 兼容性检查
      try {
        if (typeof localStorage !== 'undefined') {
          localStorage.setItem('lastAI', name);
          localStorage.setItem('lastVisit', new Date().toISOString());
        }
      } catch (e) {
        console.warn('localStorage 不可用，记录失败');
      }

      // ✅ 弹窗拦截处理
      const newWindow = window.open(url, '_blank');
      if (!newWindow) {
        alert(`请允许弹窗以打开链接，或直接访问：${url}`);
      }
    }
  </script>
</body>
</html>
